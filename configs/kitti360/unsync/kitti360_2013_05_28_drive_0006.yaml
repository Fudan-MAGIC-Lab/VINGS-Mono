use_wandb: False
use_sky: False
use_dynamic: False

mode: 'vio' # 'vo' or 'vio'


device:
  tracker: 'cuda:0'
  mapper: 'cuda:0'

dataset:
  root: /data/wuke/DATA/2024/KITTI360_UNSYNC/2013_05_28/2013_05_28_drive_0006_sync/
  module: datasets.kitti360_unsync
  rgb_strip: 1

middleware:
  cov_times: 500
  max_cov: 2e3
  max_depth: 20

output:
  save_dir: /data/wuke/workspace/VINGS-Mono/output/

# Unsync
# [788.629315, 786.382230, 687.158398, 317.752196]
intrinsic:
  H: 512 # 390 
  W: 1392
  fu: 786.382230
  fv: 788.629315
  cu: 317.752196 # 195.0
  cv: 687.158398
  bg: 0
  distortion_coeffs: [-0.344441, 0.141678, 0.000414, -0.000222, -0.029608]
  new_H: 390
  new_cu: 195.0


# i2c: [[0.99944133, -0.00228419, -0.03334389, -0.03734697],
#      [0.03268308, -0.14183394, 0.98935078, 1.75837780],
#      [-0.00698916, -0.98988784, -0.14168005, 0.59911765],
#      [0.00000000, 0.00000000, 0.00000000, 1.00000000]]

frontend:
  weight: /data/wuke/workspace/VINGS-Mono/ckpts/droid.pth
  image_size: [344, 616] # [264, 728]
  buffer: 80
  filter_thresh: 2.4
  c2i: None
  visual_only: 0 # 0 means VIO and 1 means VO.
  warm_up: 8
  beta: 0.3
  frontend_nms: 1
  keyframe_thresh: 4.0
  frontend_window: 5
  frontend_thresh: 16.0 
  frontend_radius: 2
  active_window: 12
  # CovisibleGraph
  max_factors: 48
  far_threshold: 0.02
  inac_range: 3
  mask_threshold: -1.0
  skip_edge: [-4,-5,-6]
  translation_threshold: 0.5
  # Vis.
  show_plot: False

adc_args:
  accum_thresh: 0.98
training_args:
  num_keyframe: 8
  iters: 70
  lr: # Copy form 2DGS.
    _xyz_lr: 0.00004
    _rgb_lr: 0.0003
    _opacity_lr: 0.08
    _scaling_lr: 0.0001
    _rotation_lr: 0.001
  loss_weights:
    rgb_loss: 1.0
    depth_loss: 0.1
    alpha_loss: 0.0  # 10.0
    normal_loss: 0.05 # 0.05
    dist_loss: 0.0

use_vis: True
vis:
  bev_w2c: [[ 9.10612721e-01,  4.01646324e-01, -9.72867032e-02, 2.02900529e+02],
       [ 2.07778712e-01, -6.48463464e-01, -7.32340865e-01, -2.92857177e+00],
       [-3.57228889e-01,  6.46664802e-01, -6.73952635e-01, 5.49875912e+02],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, 1.00000000e+00]]
  bev_intrinsic_dict:
    H: 1369
    W: 2560
    fu: 1185.588
    fv: 1185.588
    cu: 684.0 # cy
    cv: 1279.5 # cx
  pose_scale: 0.4






use_metric: False

# 2024/10/01
use_storage_manager: True
storage_manager:
  distance_threshold: 70.0