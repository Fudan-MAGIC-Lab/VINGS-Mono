use_wandb: False
use_sky: False
use_dynamic: False
use_metric: False
use_loop: False
debug_mode: False

mode: 'vio' # 'vo' or 'vio'

device:
  tracker: 'cuda:0'
  mapper: 'cuda:0'

dataset:
  root: /data/wuke/DATA/2024/RAW_KITTI/2011_10_03/2011_10_03_drive_0034_sync/
  module: datasets.kitti_sync
  rgb_strip: 1
  imu_delay: 0.05006

middleware:
  cov_times: 5000 # 500
  max_cov: 5e9
  max_depth: 30

output:
  save_dir: /data/wuke/workspace/VINGS-Mono/output/

# 9.601149e+02 0.000000e+00 6.947923e+02 0.000000e+00 9.548911e+02 2.403547e+02 0.000000e+00 0.000000e+00 1.000000e+00
intrinsic:
  H: 376
  W: 1241
  fu: 718.856
  fv: 718.856
  cu: 185.2157
  cv: 607.1928
  bg: 0

frontend:
  weight: /data/wuke/workspace/VINGS-Mono/ckpts/droid.pth
  image_size: [344, 616]
  buffer: 80
  filter_thresh: 2.4
  c2i: None
  visual_only: 0 # 0 means VIO and 1 means VO.
  warm_up: 8
  beta: 0.3
  frontend_nms: 1
  keyframe_thresh: 4.0
  frontend_window: 5
  frontend_thresh: 16.0 
  frontend_radius: 2
  active_window: 12
  # CovisibleGraph
  max_factors: 48
  far_threshold: 0.02
  inac_range: 3
  mask_threshold: -1.0
  skip_edge: [-4,-5,-6]
  translation_threshold: 0.5
  # Vis.
  show_plot: False

adc_args:
  accum_thresh: 0.98
training_args:
  num_keyframe: 8
  iters: 200
  lr: # Copy form 2DGS.
    _xyz_lr: 0.0002
    _rgb_lr: 0.0001
    _opacity_lr: 0.01
    _scaling_lr: 0.003
    _rotation_lr: 0.003
  loss_weights:
    rgb_loss: 1.0
    depth_loss: 0.2
    alpha_loss: 0.2  # 10.0
    normal_loss: 0.0 # 0.05
    dist_loss: 0.0


use_vis: False
vis:
  bev_w2c: [[-3.64959983e-01,  9.31017139e-01,  3.36131832e-03, -4.20061749e+02],
       [ 7.81663087e-01,  3.08370302e-01, -5.42135200e-01, -4.37831587e+02],
       [-5.05773693e-01, -1.95230235e-01, -8.40284551e-01, 8.79759666e+02],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, 1.00000000e+00]]
  bev_intrinsic_dict:
    H: 1369
    W: 2560
    fu: 1185.5887777808966
    fv: 1185.5887777808966
    cu: 684 # cy
    cv: 1279.5 # cx
  pose_scale: 0.6



looper:
  lightglue_weight_dir: /data/wuke/workspace/LightGlue-ONNX/weights/
  onnx_w: 512
  H: 344
  W: 616
  # nearest_k_frame: 10
  loop_radius: 15
  is_loop_min_match_num: 35 # 50
  search_num: 30
  is_loop_mse_threshold: 0.19 # 0.18
  is_loop_med_times: 100.0


# 2024/10/01
use_storage_manager: True
storage_manager:
  distance_threshold: 60.0